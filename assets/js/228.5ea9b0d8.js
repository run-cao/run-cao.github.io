(window.webpackJsonp=window.webpackJsonp||[]).push([[228],{698:function(s,a,t){"use strict";t.r(a);var e=t(62),n=Object(e.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"sed-命令"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#sed-命令"}},[s._v("#")]),s._v(" Sed 命令")]),s._v(" "),t("p",[s._v("sed 命令的语法：")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("options"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("script"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("filename"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n")])])]),t("p",[s._v("有 2 种方式调用 sed ：")]),s._v(" "),t("ul",[t("li",[s._v("在命令行上指定编辑命令；")]),s._v(" "),t("li",[s._v("将它们放到一个文件中并提供这个文件的名字。")])]),s._v(" "),t("h2",{attrs:{id:"指定简单的指令"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#指定简单的指令"}},[s._v("#")]),s._v(" 指定简单的指令")]),s._v(" "),t("p",[s._v("可以在命令行上指定简单的编辑命令：")]),s._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("-e"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'<instruction>'")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("file"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n")])])]),t("p",[s._v("如果命令行上只有单个指令（ instruction ），那么 "),t("code",[s._v("-e")]),s._v(" 可省略。否则，有多少个指令（ instruction ）就需要有多少个 "),t("code",[s._v("-e")]),s._v(" 。")]),s._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 从文件 list 中读取内容，用 `Massachusetts` 替代 `MA` 。")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'s/MA/Massachusetts/'")]),s._v(" list\n")])])]),t("p",[s._v("上面命令有几个注意事项：")]),s._v(" "),t("ul",[t("li",[t("p",[s._v("指令（ instruction ）的单引号可以省略，但是最好不要省略，防止空格和特殊字符问题。")])]),s._v(" "),t("li",[t("p",[s._v("源文件 list 的内容并没有改变。改动后的内容被输出到了终端上，并没有改动源文件。")])]),s._v(" "),t("li",[t("p",[t("code",[s._v("s")]),s._v(" 标识查找替换，"),t("code",[s._v("MA")]),s._v(" 是被查找、被替换的内容，"),t("code",[s._v("Massachusetts")]),s._v(" 是用来替换 "),t("code",[s._v("MA")]),s._v(" 的内容，也就是替换后的内容。")])])]),s._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'s/ MA/, Massachusetts/'")]),s._v(" list\n")])])]),t("p",[s._v("这里就出现了空格和逗号。查找 list 文件中的 "),t("code",[s._v("MA")]),s._v(" 替换成 "),t("code",[s._v(", Massachusetts")]),s._v(" 。")]),s._v(" "),t("p",[s._v("常见 2 种方式可以指定命令行上的多重命令：")]),s._v(" "),t("ol",[t("li",[t("p",[s._v("用分号分隔指令")]),s._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'s/ MA/, Massachusetts/;s/ PA/, Pensylvania/'")]),s._v(" list\n")])])])]),s._v(" "),t("li",[t("p",[s._v("每个指令前放置 "),t("code",[s._v("-e")])]),s._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" -e "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'s/ MA/, Massachusetts/'")]),s._v(" -e "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'s/ PA/, Pensylvania/'")]),s._v(" list\n")])])])])]),s._v(" "),t("p",[s._v("上述两种方式都是提供了两个替换规则。")]),s._v(" "),t("h2",{attrs:{id:"脚本文件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#脚本文件"}},[s._v("#")]),s._v(" 脚本文件")]),s._v(" "),t("p",[s._v("如果要输入的脚本太长，你可以将它放进文件中并使用 "),t("code",[s._v("-f")]),s._v(" 选项来指定脚本文件：")]),s._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" -f "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("scriptfile"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("file"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n")])])]),t("p",[s._v("例如：")]),s._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# cat sedscr")]),s._v("\ns/ MA/, Massachusetts/\ns/ PA/, Pensylvania/\ns/ CA/, Califonia/\ns/ VA/, Virginia/\ns/ OK/, Oklahoma/\n")])])]),t("p",[s._v("下面命令读取 "),t("code",[s._v("sedscr")]),s._v(" 文件中所有替换命令，并将它们用于源文件 list 的每一行：")]),s._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" -f sedscr list\n")])])]),t("p",[s._v("再说一次，显示在屏幕上的是临时的结果，源文件中的内容没有发生改变。")])])}),[],!1,null,null,null);a.default=n.exports}}]);