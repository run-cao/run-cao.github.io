(window.webpackJsonp=window.webpackJsonp||[]).push([[73],{544:function(t,s,a){"use strict";a.r(s);var r=a(62),n=Object(r.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"模块化"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#模块化"}},[t._v("#")]),t._v(" 模块化")]),t._v(" "),a("h2",{attrs:{id:"_1-关于模块化"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-关于模块化"}},[t._v("#")]),t._v(" 1. 关于模块化")]),t._v(" "),a("p",[t._v("所有的编程语言都会面对『模块化』的需求。因为，大家都会遇到 2 个问题：")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("命名冲突")])]),t._v(" "),a("li",[a("p",[t._v("文件依赖")])])]),t._v(" "),a("p",[t._v("通过『模块化』可以解决上述两个问题：")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("模块化就是把单独的一个功能封装到一个模块"),a("small",[t._v("（文件）")]),t._v("中，模块之间相互隔离，但是可以通过特定的接口公开内部成\n员，也可以依赖别的模块。")])]),t._v(" "),a("li",[a("p",[t._v("模块化开发的好处：方便代码的重用，从而提升开发效率，并且方便后期的维护。")])])]),t._v(" "),a("p",[t._v("虽然，我们更常见的是在前端『工程化的项目』中大量使用到模块化，但是，现在的浏览器也支持在普通的、静态的 html 文件中使用模块化。")]),t._v(" "),a("p",[t._v("你只需要做 2 件事情：")]),t._v(" "),a("ol",[a("li",[a("p",[t._v("将 js 代码写在独立的 .js 文件中，并 export 你想要导出的内容；")])]),t._v(" "),a("li",[a("p",[t._v("在 .html 文件中使用 "),a("code",[t._v('<script type="module"><\/script>')]),t._v(" 引入它，并正确使用 import 即可。")])])]),t._v(" "),a("div",{staticClass:"custom-block danger"},[a("p",{staticClass:"custom-block-title"},[t._v("警告")]),t._v(" "),a("p",[t._v("在静态 html 页面中使用多模块，.html 文件不能以双击的方式在浏览器中直接打开，要把它运行访问。最简单的方式，就是在 vscode 中安装 liverserver 插件运行。")])]),t._v(" "),a("h2",{attrs:{id:"_2-javascript-的模块化"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-javascript-的模块化"}},[t._v("#")]),t._v(" 2. JavaScript 的模块化")]),t._v(" "),a("p",[t._v("JavaScript 引入模块化的概念比较晚。在 ES6 提出模块化规范之前，社区中已经尝试并提出了 AMD、CMD、CommonJS 等模块化规范。不过这些非官方的模块化标准存在一定的局限性。")]),t._v(" "),a("p",[t._v("因此，ES6 语法规范中，在语言层面上定义了 ES6 模块化规范，是浏览器端与服务器端通用的模块化开发规范。")]),t._v(" "),a("p",[t._v("ES6 模块化规范中定义：")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("每个 js 文件都是一个独立的模块")])]),t._v(" "),a("li",[a("p",[t._v("导入模块成员使用 "),a("strong",[t._v("import")]),t._v(" 关键字")])]),t._v(" "),a("li",[a("p",[t._v("暴露模块成员使用 "),a("strong",[t._v("export")]),t._v(" 关键字")])])]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("『**暴露模块成员**』这个说法有些奇怪，但是其它语言也实现了同样的功能，只不过不是叫这个名字。例如，C++ 和 Java 是以『**访问权限**』实现的类似功能，而 C 语言是以『**本地"),a("small",[t._v("（静态）")]),t._v("变量**』实现的类似功能。")])]),t._v(" "),a("h2",{attrs:{id:"_3-export-命令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-export-命令"}},[t._v("#")]),t._v(" 3. export 命令")]),t._v(" "),a("p",[a("strong",[t._v("一个模块就是一个独立的文件")]),t._v("，文件内部的所有变量外部无法获取。如果希望外部能够读取到模块内部的某个变量，就必须使用 "),a("strong",[t._v("export")]),t._v(" 关键字输出该变量。")]),t._v(" "),a("p",[t._v("输出"),a("small",[t._v("（export）")]),t._v("变量有 2 种写法：")]),t._v(" "),a("ol",[a("li",[a("p",[t._v("单个输出")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" firstName "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Michael'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" lastName "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Jackson'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" year "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1958")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("p",[t._v("这种写法中，对于"),a("small",[t._v("（你所想要输出的）")]),t._v("每个变量要单独书写 "),a("code",[t._v("export")]),a("small",[t._v("（输出几个变量，就要写几个 "),a("code",[t._v("export")]),t._v(" ）")]),t._v("。")])]),t._v(" "),a("li",[a("p",[t._v("统一输出")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" firstName "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Michael'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" lastName "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Jackson'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" year "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1958")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("firstName"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" lastName"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" year"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("p",[t._v("这种写法中，你只要书写一个 "),a("code",[t._v("export")]),t._v(" ，将你所想要输出的变量都写在这里，写在一起。")])])]),t._v(" "),a("p",[a("strong",[a("code",[t._v("export")]),t._v(" 除了输出变量，还可以输出函数")]),t._v("。也分为单个输出和同意输出 2 种写法。")]),t._v(" "),a("ol",[a("li",[a("p",[t._v("单个输出")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("one")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("a"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" b")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("two")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])]),t._v(" "),a("li",[a("p",[t._v("统一输出")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("one")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("a"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" b")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("two")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" one"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" two "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])])]),t._v(" "),a("h2",{attrs:{id:"_4-import-命令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-import-命令"}},[t._v("#")]),t._v(" 4. import 命令")]),t._v(" "),a("p",[t._v("使用 "),a("strong",[t._v("export")]),t._v(" 定义模块的对外接口以后，其它 JS 文件就可以通过 "),a("strong",[t._v("import")]),t._v(" 来加载这个模块。")]),t._v(" "),a("p",[a("strong",[t._v("import")]),t._v(" 命令用于加载其它的文件，并从中输入变量。")]),t._v(" "),a("p",[t._v("需要强调的一点是，并非人家 export，你就能直接使用，你需要 import 别人 export 出来的变量和方法，而后你才能用。")]),t._v(" "),a("p",[a("strong",[t._v("import")]),t._v(" 命令接受一对大括号，里面指定从其它模块导入的变量名"),a("small",[t._v("（或函数名）")]),t._v("，"),a("strong",[t._v("大括号里面的变量名必须与被导入模块 export 的“东西”的名称相同")]),t._v("。")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" firstName"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" lastName"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" year "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./xxx.js'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("p",[a("strong",[t._v("import")]),t._v(" 后面的 "),a("strong",[t._v("from")]),t._v(" 指定模块文件的位置，可以使用相对路径，也可以使用绝对路径。"),a("code",[t._v(".js")]),t._v(" 后缀可以省略。")]),t._v(" "),a("blockquote",[a("p",[a("strong",[t._v("import")]),t._v(" 命令输入的变量都是『"),a("strong",[t._v("只读")]),t._v("』的，即，不允许再加载它的脚本中改写它。如果导入的是一个对象，虽然改写对象的属性是允许的，但是仍不推荐这样使用。")]),t._v(" "),a("p",[t._v("建议凡是 "),a("strong",[t._v("import")]),t._v(" 的变量，都当作完全只读。若无必要，轻易不要改变它"),a("small",[t._v("（和它的属性）")]),t._v("。")])]),t._v(" "),a("h2",{attrs:{id:"_5-export-default-命令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-export-default-命令"}},[t._v("#")]),t._v(" 5. export default 命令")]),t._v(" "),a("p",[t._v("在使用 "),a("strong",[t._v("import")]),t._v(" 命令时，"),a("strong",[t._v("import")]),t._v(" 方需要明确知道 "),a("strong",[t._v("export")]),t._v(" 方对外导出的变量名或函数名，否则无法加载。这就需要 "),a("strong",[t._v("import")]),t._v(" 方去阅读 "),a("strong",[t._v("export")]),t._v(" 方的源码"),a("small",[t._v("（或文档）")]),t._v("。")]),t._v(" "),a("p",[t._v("很显然，这样是很不方便的。更有甚者，"),a("strong",[t._v("export")]),t._v(" 方对外导出的是匿名对象，或匿名类，这里压根就没名字！例如：")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("这种情况下，你又怎么可能获得它所导出的变量"),a("small",[t._v("（匿名对象）")]),t._v("和函数？")]),t._v(" "),a("p",[t._v("为了给用户提供方便，不用阅读源码"),a("small",[t._v("（或文档）")]),t._v("就能加载模板，可以使用 "),a("code",[t._v("export default")]),t._v(" 命令，为模块指定默认输出。")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n或\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("这样，"),a("strong",[t._v("import")]),t._v(" 方就可以『"),a("strong",[t._v("以任意的名字")]),t._v("』去接受这个匿名对象"),a("small",[t._v("（或匿名函数）")]),t._v("。")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" obj "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'xxx.js'")]),t._v("\n或\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" sayHello "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'xxx.js'")]),t._v("\n")])])]),a("blockquote",[a("p",[t._v("逻辑上等同于：")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" obj "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("sayHello")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])]),t._v(" "),a("p",[t._v("需要注意的是，使用 "),a("strong",[t._v("export default")]),t._v(" 时，对应的 "),a("strong",[t._v("import")]),t._v(" 命令后面不使用大括号；使用 "),a("strong",[t._v("export")]),t._v(" 时，对应的 "),a("strong",[t._v("import")]),t._v(" 需要使用大括号。")]),t._v(" "),a("p",[t._v("毫无疑问，一个模块只能有一个默认输出 "),a("strong",[t._v("export default")]),t._v(" 。")])])}),[],!1,null,null,null);s.default=n.exports}}]);