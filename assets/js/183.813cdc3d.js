(window.webpackJsonp=window.webpackJsonp||[]).push([[183],{643:function(t,a,s){"use strict";s.r(a);var e=s(62),n=Object(e.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"unicode-编码"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#unicode-编码"}},[t._v("#")]),t._v(" Unicode 编码")]),t._v(" "),s("h2",{attrs:{id:"_1-java-文件和-class-文件的字符编码"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-java-文件和-class-文件的字符编码"}},[t._v("#")]),t._v(" 1. .java 文件和 .class 文件的字符编码")]),t._v(" "),s("p",[t._v("java 源文件"),s("small",[t._v("（.java）")]),t._v("和编译后的 .class 文件的编码并不一样。")]),t._v(" "),s("p",[t._v("源文件 .java 可以采用多种编码格式，如")]),t._v(" "),s("ul",[s("li",[t._v("UTF-8"),s("small",[t._v("（unix linux 平台默认）")]),t._v("。或者")]),t._v(" "),s("li",[t._v("GBK"),s("small",[t._v("（windows 平台默认）")]),t._v("。")])]),t._v(" "),s("p",[t._v("之所以有"),s("small",[t._v("（可以有）")]),t._v("多种编码格式，是因为源文件毕竟是给『"),s("strong",[t._v("人")]),t._v("』看的，不是给 jvm 看的，它用什么编码格式 jvm 根本就不关心。")]),t._v(" "),s("p",[t._v("当将源码用 "),s("code",[t._v("javac")]),t._v(" 编译的时候，默认是 "),s("code",[t._v("javac")]),t._v(" 按照系统默认的编码格式读取 java 源文件，然后以 "),s("strong",[t._v("utf-8")]),t._v(" 的格式输出到 .class 文件中。")]),t._v(" "),s("p",[t._v("换句话说，在默认情况下")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("unix 平台，"),s("code",[t._v("javac")]),t._v(" 用 utf-8 格式读取 java 源文件  然后以 utf-8 格式写 .class；")])]),t._v(" "),s("li",[s("p",[t._v("在默认情况下 windows 平台，"),s("code",[t._v("javac")]),t._v(" 用 gbk 格式读取 java 源文件然后以 utf-8 格式写 .class 。")])])]),t._v(" "),s("p",[t._v("所以，中文字符乱码的根本原因在于，你"),s("small",[t._v("（有意或无意）")]),t._v("没有使用默认编码规则存储 .java 文件，而 javac 却又是按照默认规则去读 .java 文件，这就出现了乱码。")]),t._v(" "),s("p",[t._v("例如， 在 windows 平台下用 utf-8 格式保存 java 源文件， 那么你在执行 javac 命令编译源文件时，你需要『告诉』javac 命令，你要编译的源文件的编码格式。否则，会有乱码问题。")]),t._v(" "),s("h2",{attrs:{id:"_2-java-中字符串的长度"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-java-中字符串的长度"}},[t._v("#")]),t._v(" 2. Java 中字符串的长度")]),t._v(" "),s("p",[t._v("在 Java 中一个字符串的长度并『"),s("strong",[t._v("不能")]),t._v("』简单地、想当然的想象成是其中所有字符数的累加和！")]),t._v(" "),s("p",[t._v("以下内容来自 stackoverflow 中的总结和解释")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("A Java char takes always 16 bits.")])]),t._v(" "),s("li",[s("p",[t._v("A Unicode character, when encoded as UTF-16, takes “almost always” (not always) 16 bits: that’s because there are more than 64K unicode characters. Hence, a Java char is NOT a Unicode character (though “almost always” is).")])]),t._v(" "),s("li",[s("p",[t._v("“Almost always”, above, means the 64K first code points of Unicode, range 0x0000 to 0xFFF (BMP), which take 16 bits in the UTF-16 encoding.")])]),t._v(" "),s("li",[s("p",[t._v("A non-BMP (“rare”) Unicode character is represented as two Java chars (surrogate representation). This applies also to the literal representation as a string: For example, the character U+20000 is written as “\\uD840\\uDC00”.")])]),t._v(" "),s("li",[s("p",[t._v("Corolary: string.length() returns the number of java chars, not of Unicode chars. A string that has just one “rare” unicode character (eg U+20000) would return length() = 2 . Same consideration applies to any method that deals with char-sequences.")])]),t._v(" "),s("li",[s("p",[t._v("Java has little intelligence for dealing with non-BMP unicode characters as a whole. There are some utility methods that treat characters as code-points, represented as ints eg: Character.isLetter(int ch). Those are the real fully-Unicode methods.")])])]),t._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" str1 "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"\\uD840\\uDC00"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" str2 "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"𠀀"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("System")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("out"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("println")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("str2"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("length")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("System")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("out"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("println")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Character")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("isLetter")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("str2"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("charAt")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("h2",{attrs:{id:"_3-中日韩文的-unicode-码点"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-中日韩文的-unicode-码点"}},[t._v("#")]),t._v(" 3. 中日韩文的 UniCode 码点")]),t._v(" "),s("p",[t._v("https://codepoints.net/planes")]),t._v(" "),s("p",[t._v("CJK 的意思是 "),s("code",[t._v("Chinese，Japanese，Korea")]),t._v(" 的简写 ，实际上就是指中日韩三国文字"),s("small",[t._v("（象形文字）")]),t._v("的 Unicode 编码。")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",{staticStyle:{"text-align":"left"}},[t._v("字符集")]),t._v(" "),s("th",{staticStyle:{"text-align":"left"}},[t._v("Unicode 编码")]),t._v(" "),s("th",{staticStyle:{"text-align":"left"}},[t._v("标识")])])]),t._v(" "),s("tbody",[s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("部首扩展")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("2E80 - 2EFF")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("CJK Radicals Supplement")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("康熙部首")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("2F00 - 2FDF")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("Kangxi Radicals")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("汉字结构")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("2FF0 - 2FFF")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("Ideographic Description Characters")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[s("strong",[t._v("汉语标点符号")])]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[s("strong",[t._v("3000 - 303F")])]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[s("strong",[t._v("CJK Symbols and Punctuation")])])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("日语注音")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("3100-3120")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("Bopomofo")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("注音扩展")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("31A0-31BA")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("Bopomofo Extended")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("汉字笔画")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("31C0-31EF")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("CJK Strokes")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("扩展 A")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("3400 - 4DBF")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("CJK Unified Ideographs Extension A")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[s("strong",[t._v("基本汉字")])]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[s("strong",[t._v("4E00 - 9FFF")])]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[s("strong",[t._v("CJK Unified Ideographs")])])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("兼容汉字")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("F900- FAD9")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("CJK Compatibility Ideographs")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("全角半角字母符号")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("FF00 - FFEF")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("Halfwidth and Fullwidth Forms")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("扩展 B")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("20000-2A6DF")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("CJK Unified Ideographs Extension B")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("扩展 C")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("2A700-2B73F")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("CJK Unified Ideographs Extension C")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("扩展 D")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("2B740-2B81F")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("CJK Unified Ideographs Extension D")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("兼容扩展")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("2F800-2FA1F")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("CJK Compatibility Ideographs Supplement")])])])]),t._v(" "),s("h2",{attrs:{id:"_4-java-完美判断中文字符的方案"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-java-完美判断中文字符的方案"}},[t._v("#")]),t._v(" 4. Java 完美判断中文字符的方案")]),t._v(" "),s("p",[s("small",[t._v("方案/思路是 ok 的，细节可以再调整。")])]),t._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 根据 Unicode 编码完美的判断中文汉字和符号 ")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("private")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("static")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("boolean")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("isChinese")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("char")]),t._v(" c"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" \n    "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Character"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("UnicodeBlock")]),t._v(" ub "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Character"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("UnicodeBlock")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("of")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("c"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" \n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ub "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Character"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("UnicodeBlock")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("CJK_UNIFIED_IDEOGRAPHS \n            "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v(" ub "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Character"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("UnicodeBlock")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("CJK_COMPATIBILITY_IDEOGRAPHS \n            "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v(" ub "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Character"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("UnicodeBlock")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("CJK_UNIFIED_IDEOGRAPHS_EXTENSION_A \n            "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v(" ub "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Character"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("UnicodeBlock")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("CJK_UNIFIED_IDEOGRAPHS_EXTENSION_B \n            "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v(" ub "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Character"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("UnicodeBlock")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("CJK_SYMBOLS_AND_PUNCTUATION \n            "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v(" ub "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Character"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("UnicodeBlock")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("HALFWIDTH_AND_FULLWIDTH_FORMS \n            "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v(" ub "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Character"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("UnicodeBlock")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("GENERAL_PUNCTUATION"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" \n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" \n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" \n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" \n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" \n")])])]),s("h2",{attrs:{id:"_5-三种空格"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_5-三种空格"}},[t._v("#")]),t._v(" 5. 三种空格")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",{staticStyle:{"text-align":"left"}},[t._v("空格")]),t._v(" "),s("th",{staticStyle:{"text-align":"left"}},[t._v("Unicode 码")]),t._v(" "),s("th",{staticStyle:{"text-align":"left"}},[t._v("说明")])])]),t._v(" "),s("tbody",[s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("不间断空格")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[s("code",[t._v("\\u00A0")])]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("主要用在 office 中，让一个单词在结尾处不会换行显示，快捷键 ctrl+shift+space")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("半角空格"),s("small",[t._v("（英文符号）")])]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[s("code",[t._v("\\u0020")])]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("代码中常用的")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("全角空格"),s("small",[t._v("（中文符号）")])]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[s("code",[t._v("\\u3000")])]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("中文文章中使用")])])])])])}),[],!1,null,null,null);a.default=n.exports}}]);