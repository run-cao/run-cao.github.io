(window.webpackJsonp=window.webpackJsonp||[]).push([[289],{761:function(a,t,s){"use strict";s.r(t);var n=s(62),e=Object(n.a)({},(function(){var a=this,t=a.$createElement,s=a._self._c||t;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("h1",{attrs:{id:"一个个人习惯引发的问题"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#一个个人习惯引发的问题"}},[a._v("#")]),a._v(" 一个个人习惯引发的问题")]),a._v(" "),s("h2",{attrs:{id:"_1-有些人的个人习惯"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-有些人的个人习惯"}},[a._v("#")]),a._v(" 1. 有些人的个人习惯")]),a._v(" "),s("p",[a._v("由于 mybatis 的 mapper 映射文件和 dao 的一一对应关系，有些人习惯将 mapper 映射文件"),s("small",[a._v("（ "),s("em",[a._v(".xml")]),a._v(" ）")]),a._v("和 dao 接口放在一起，并且命名为统一的名字。例如：")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("src\n└── main\n    └── java\n        └── xxx\n            └── yyy\n                └── zzz\n                    └── dao\n                        ├── XxxDAO.java\n                        ├── XxxDAOMapper.xml\n                        ├── YyyDAO.java\n                        ├── YyyDAOMapper.xml\n                        ├── ZzzDAO.java\n                        └── ZzzDAOMapper.xml\n")])])]),s("p",[a._v("通常认为这不是一个很好的习惯，因为在 Maven 项目中，.xml 和 .properties 一类的资源文件应该统一放在 "),s("strong",[a._v("resources")]),a._v(" 目录下，而非放在代码目录（ "),s("code",[a._v("java")]),a._v(" ）下。")]),a._v(" "),s("p",[a._v("但是这么干也是有好处的，因为 DAO 和 DAOMapper 在一起，很方便一起找到它们俩，开发者多少还是能省点事的。")]),a._v(" "),s("h2",{attrs:{id:"_2-问题及其原因"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-问题及其原因"}},[a._v("#")]),a._v(" 2. 问题及其原因")]),a._v(" "),s("p",[a._v("按照上述结构来组织代码时，在 spring 和 mybatis 的相关配置都正确的情况下，你运行项目会失败，报错信息会告诉你项目中的 Mapper"),s("small",[a._v("（ "),s("em",[a._v(".xml")]),a._v(" ）")]),a._v("文件找不到！")]),a._v(" "),s("blockquote",[s("p",[a._v("如果你对 "),s("strong",[a._v("classpath")]),a._v(" 的概念很熟悉的话，那么你很显然会立刻想到到哪里去看、去验证是否真的没有 mapper 文件。")])]),a._v(" "),s("p",[a._v("这里的原因在于，对于代码文件夹"),s("small",[a._v("（ "),s("em",[a._v("java")]),a._v(" ）")]),a._v("目录下的文件，maven 默认只对 "),s("em",[a._v(".java")]),a._v(" 文件做相关工作：编译成 "),s("em",[a._v(".class")]),a._v(" 文件，并『搬』到 classpath 下。对于代码文件夹"),s("small",[a._v("（ "),s("em",[a._v("java")]),a._v(" ）")]),a._v("目录下的非 "),s("em",[a._v(".java")]),a._v(" 文件，maven 默认一概视而不见，不会帮你把它们『搬』到 classpath 下，就好似这些非 "),s("em",[a._v(".java")]),a._v(" 文件不存在。")]),a._v(" "),s("p",[a._v("此时，需要你通过配置『告诉』maven 代码文件夹"),s("small",[a._v("（ "),s("em",[a._v("java")]),a._v(" ）")]),a._v("目录，也承担资源文件夹"),s("small",[a._v("（ "),s("em",[a._v("resources")]),a._v(" ）")]),a._v("的功能，要求 maven 帮我们『搬』文件。")]),a._v(" "),s("h2",{attrs:{id:"_3-解决办法"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-解决办法"}},[a._v("#")]),a._v(" 3. 解决办法")]),a._v(" "),s("p",[a._v("在 "),s("em",[a._v("pom.xml")]),a._v(" 文件的 "),s("strong",[a._v("<build>...</build>")]),a._v(" 中添加如下配置：")]),a._v(" "),s("div",{staticClass:"language-xml extra-class"},[s("pre",{pre:!0,attrs:{class:"language-xml"}},[s("code",[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("resources")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("resource")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n       "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("directory")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("src/main/java"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("directory")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n       "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("includes")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("\x3c!-- 你可以试试去掉这一段的效果 --\x3e")]),a._v("\n            "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("include")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("**/*.xml"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("include")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n       "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("includes")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("resource")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("resource")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n       "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("directory")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("src/main/resources"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("directory")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("resource")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("resources")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n")])])])])}),[],!1,null,null,null);t.default=e.exports}}]);