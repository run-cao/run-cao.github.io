(window.webpackJsonp=window.webpackJsonp||[]).push([[231],{708:function(s,t,a){"use strict";a.r(t);var n=a(62),e=Object(n.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"安装-centos-8-之后的常见配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装-centos-8-之后的常见配置"}},[s._v("#")]),s._v(" 安装 CentOS-8 之后的常见配置")]),s._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token shebang important"}},[s._v("#!/bin/bash")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("IP")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.172")]),s._v(".0.16\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("HOSTNAME")])]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("woniu\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ----------------------------------------------------------")]),s._v("\n\nufw disable\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("cp")]),s._v(" /etc/apt/sources.list /etc/apt/sources.list.bak\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" /etc/apt/sources.list "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<<")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("EOF\ndeb http://mirrors.163.com/ubuntu/ focal main restricted universe multiverse\ndeb http://mirrors.163.com/ubuntu/ focal-security main restricted universe multiverse\ndeb http://mirrors.163.com/ubuntu/ focal-updates main restricted universe multiverse\ndeb http://mirrors.163.com/ubuntu/ focal-proposed main restricted universe multiverse\ndeb http://mirrors.163.com/ubuntu/ focal-backports main restricted universe multiverse\n\ndeb-src http://mirrors.163.com/ubuntu/ focal main restricted universe multiverse\ndeb-src http://mirrors.163.com/ubuntu/ focal-security main restricted universe multiverse\ndeb-src http://mirrors.163.com/ubuntu/ focal-updates main restricted universe multiverse\ndeb-src http://mirrors.163.com/ubuntu/ focal-proposed main restricted universe multiverse\ndeb-src http://mirrors.163.com/ubuntu/ focal-backports main restricted universe multiverse\nEOF")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt")]),s._v(" update\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt-get")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" -y "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("wget")]),s._v(" chrony lrzsz gcc "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("lsof")]),s._v(" net-tools openjdk-8*\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">>")]),s._v(" ~/.bashrc "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<<")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("EOF\n# added by root\nalias vi='vim'\nalias dockerps='docker ps --format \"table {{.Image}}"),a("span",{pre:!0,attrs:{class:"token entity",title:"\\t"}},[s._v("\\t")]),s._v("{{.Names}}"),a("span",{pre:!0,attrs:{class:"token entity",title:"\\t"}},[s._v("\\t")]),s._v("{{.Status}}"),a("span",{pre:!0,attrs:{class:"token entity",title:"\\t"}},[s._v("\\t")]),s._v("{{.Ports}}\"'\nexport PS1='[\\u@\\H \\W]\\$ '\nEOF")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("source")]),s._v(" ~/.bashrc\n\nsystemctl "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("enable")]),s._v(" chrony\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v(" /etc/localtime\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ln")]),s._v(" -s /usr/share/zoneinfo/Asia/Shanghai /etc/localtime\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ----------------------------------------------------------------")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">>")]),s._v(" /etc/netplan/00-installer-config.yaml "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<<")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("EOF\n# This is the network config written by 'subiquity'\nnetwork:\n  ethernets:\n    ens160:\n      dhcp4: false\n      addresses: ["),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${IP}")]),s._v("/24]\n      gateway4: 192.172.0.1\n      nameservers:\n        addresses: [8.8.8.8, 114.114.114.114]\n  version: 2\nEOF")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" -i "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"s/'),a("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("$HOSTNAME")]),s._v("/"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$IP")]),s._v('/"')]),s._v(" /etc/hostname\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" -i "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"s/127.0.1.1 '),a("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("$HOSTNAME")]),s._v("/127.0.1.1 "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$IP")]),s._v('/"')]),s._v(" /etc/hosts\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ---------------------------------------------------------------------------")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" -i "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"s/#PermitRootLogin prohibit-password/PermitRootLogin yes/"')]),s._v(" /etc/ssh/sshd_config\nsystemctl restart "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ssh")]),s._v("\n\nnetplan apply\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("reboot")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exit")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n")])])]),a("h2",{attrs:{id:"关闭防火墙"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#关闭防火墙"}},[s._v("#")]),s._v(" 关闭防火墙")]),s._v(" "),a("h2",{attrs:{id:"安装-lrzsz-命令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装-lrzsz-命令"}},[s._v("#")]),s._v(" 安装 lrzsz 命令")]),s._v(" "),a("p",[s._v("在 linux 中 "),a("code",[s._v("rz")]),s._v(" 和 "),a("code",[s._v("sz")]),s._v(" 命令允许开发者与主机通过串口进行传递文件了。")]),s._v(" "),a("ul",[a("li",[s._v("sz：将选定的文件发送（send）到本地机器")]),s._v(" "),a("li",[s._v("rz：运行该命令会弹出一个文件选择窗口，从本地选择文件上传到 Linux 服务器")])]),s._v(" "),a("p",[s._v("安装命令：")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" -y lrzsz\n")])])]),a("p",[s._v("从服务端发送文件到客户端：")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("sz filename\n")])])]),a("p",[s._v("从客户端上传文件到服务端：")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("rz\n")])])]),a("h2",{attrs:{id:"创建新用户"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#创建新用户"}},[s._v("#")]),s._v(" 创建新用户")]),s._v(" "),a("p",[s._v("下面的示例以创建名为 "),a("code",[s._v("git")]),s._v(" 的用户为例：")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("userdel")]),s._v(" -rf "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v("         "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 删除名为 git 的用户")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("useradd")]),s._v(" -m "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n    -d /home/git "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n    -s /bin/bash "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v("                 "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 新建名为 git 的用户")]),s._v("\n                        \n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("passwd")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v("         "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 为新用户 git 设置密码")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("vi")]),s._v(" /etc/sudoers    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 将新用户 git 添加成 sudoer")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# compgen -u            # 查看系统所有用户")]),s._v("\n")])])]),a("h2",{attrs:{id:"_10-添加用户至用户组"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_10-添加用户至用户组"}},[s._v("#")]),s._v(" 10. 添加用户至用户组")]),s._v(" "),a("p",[s._v("下面以添加 "),a("code",[s._v("当前用户")]),s._v(" 到 docker 组为例子：")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 创建名为 docker 的用户组。")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 正常情况下，这条命令的结果会告诉你 docker 用户组已存在。")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("groupadd")]),s._v(" docker \n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 将当前用户（即你所登录系统的账号）添加至 docker 用户组")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" gpasswd -a "),a("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("$USER")]),s._v(" docker \n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 更新 docker 用户组")]),s._v("\nnewgrp docker \n")])])]),a("h2",{attrs:{id:"_11-安装-oracle-jdk8"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_11-安装-oracle-jdk8"}},[s._v("#")]),s._v(" 11. 安装 Oracle JDK8")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("从华为镜像网站下载历史版本，并解压")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 安装 wget 工具")]),s._v("\nyum "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" -y "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("wget")]),s._v(" \n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 下载")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("wget")]),s._v(" https://repo.huaweicloud.com/java/jdk/8u201-b09/jdk-8u201-linux-x64.tar.gz\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 解压")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" /usr/lib/jvm/java-8-oracle-amd64\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("tar")]),s._v(" xvf jdk-8u201-linux-x64.tar.gz -C /usr/lib/jvm/java-8-oracle-amd64\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 创建链接")]),s._v("\nupdate-alternatives --install "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/usr/bin/java"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"java"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/usr/lib/jvm/java-8-oracle-amd64/jdk1.8.0_201/bin/java"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2000")]),s._v("\nupdate-alternatives --install "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/usr/bin/javac"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"javac"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/usr/lib/jvm/java-8-oracle-amd64/jdk1.8.0_201/bin/javac"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2000")]),s._v("\nupdate-alternatives --install "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/usr/bin/javaws"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"javaws"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/usr/lib/jvm/java-8-oracle-amd64/jdk1.8.0_201/bin/javaws"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2000")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v('# update-alternatives --install "/usr/local/jdk" "jdk" "/usr/lib/jvm/java-8-openjdk-amd64" 1081')]),s._v("\nupdate-alternatives --install "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/usr/local/jdk"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"jdk"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/usr/lib/jvm/java-8-oracle-amd64/jdk1.8.0_201"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2000")]),s._v("\n")])])])]),s._v(" "),a("li",[a("p",[s._v("删除已安装的 openJDK")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看已安装的 openJDK")]),s._v("\nyum list installed "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" java\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 删除已安装的 openJDK")]),s._v("\nyum remove -y java-1.8.0-openjdk*\n")])])])]),s._v(" "),a("li",[a("p",[s._v("配置、启用 Oracke JDK")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("JAVA_HOME")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/usr/local/jdk "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">>")]),s._v(" /etc/profile\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("PATH")])]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),a("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("$PATH")]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$JAVA_HOME")]),s._v("/bin "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">>")]),s._v(" /etc/profile\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("CLASSPATH")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(".:"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$JAVA_HOME")]),s._v("/lib/dt.jar:"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$JAVA_HOME")]),s._v("/lib/tools.jar "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">>")]),s._v(" /etc/profile\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("source")]),s._v(" /etc/profile\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 验证")]),s._v("\njava -version\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 重新安装依赖于 java 的软件")]),s._v("\nyum "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" -y maven "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# https://mirrors.tuna.tsinghua.edu.cn/apache/maven/maven-3/3.8.4/binaries/apache-maven-3.8.4-bin.tar.gz")]),s._v("\n")])])])])])])}),[],!1,null,null,null);t.default=e.exports}}]);