(window.webpackJsonp=window.webpackJsonp||[]).push([[500],{971:function(v,_,r){"use strict";r.r(_);var o=r(62),s=Object(o.a)({},(function(){var v=this,_=v.$createElement,r=v._self._c||_;return r("ContentSlotsDistributor",{attrs:{"slot-key":v.$parent.slotKey}},[r("h1",{attrs:{id:"v-if-与-v-for-联合使用问题"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#v-if-与-v-for-联合使用问题"}},[v._v("#")]),v._v(" v-if 与 v-for 联合使用问题")]),v._v(" "),r("p",[v._v("永远不要把 v-if 和 v-for 同时用在同一个元素上。")]),v._v(" "),r("p",[v._v("官方文档明确写出上述建议的目的原因在于，v-if 和 v-for 的组合有 2 种逻辑：")]),v._v(" "),r("ul",[r("li",[v._v("先做 if 判断，根据 if 的判断结果来决定是否要进行整个 for 循环；")]),v._v(" "),r("li",[v._v("先循环起来，在 for 循环的每一轮中进行 if 判断，来决定本轮循环要执行，或不要执行代码。")])]),v._v(" "),r("p",[v._v("由于 v-for 的优先级比 v-if 的优先级高，所以，当你在同一个元素上同时使用 v-for 和 v-if 时，它们的执行逻辑上上述『情况二』。")]),v._v(" "),r("p",[v._v("官方的意思是希望你以明确的不同的写法来表达你是想执行『情况一』，还是想执行『情况二』。")]),v._v(" "),r("ul",[r("li",[r("p",[v._v("对于上述情况一："),r("code",[v._v("先 if 后 for")]),v._v("，"),r("strong",[v._v("建议拆分成父子"),r("small",[v._v("（内外）")]),v._v("两层。")])]),v._v(" "),r("p",[r("strong",[v._v("v-if")]),v._v(" 用于父元素，"),r("strong",[v._v("v-for")]),v._v(" 用于子元素。即，v-if 在外，v-for 在内。例如：")]),v._v(" "),r("p",[v._v("逻辑上，你想根据 xxx 条件的成立与否来决定是否在页面上显示所有员工信息："),r("code",[v._v('v-for="user in users" v-if="shouldShowUsers"')]),v._v(" 。")]),v._v(" "),r("p",[v._v("这种情形下，请将 v-if 移动至容器元素上，比如 <ul>、<ol>，将 v-for 留在 <li> 上。")])]),v._v(" "),r("li",[r("p",[v._v("对于上述情况二："),r("code",[v._v("先 for 后 if")]),v._v("，"),r("strong",[v._v("建议使用『计算属性"),r("small",[v._v("（computed）")]),v._v("』。")])]),v._v(" "),r("p",[v._v("将 "),r("strong",[v._v("v-if")]),v._v(" 的逻辑移入计算属性，在页面上保留 "),r("strong",[v._v("v-for")]),v._v(" 。例如：")]),v._v(" "),r("p",[v._v("逻辑上，你想在页面上状态为 xxx 的所有员工信息："),r("code",[v._v('v-for="user in users" v-if="user.isActive"')]),v._v(" 。")]),v._v(" "),r("p",[v._v("在这种情形下，请将 users 替换为一个计算属性（比如 "),r("code",[v._v("activeUsers")]),v._v("），让其返回过滤后的列表。")])])])])}),[],!1,null,null,null);_.default=s.exports}}]);