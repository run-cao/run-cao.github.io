(window.webpackJsonp=window.webpackJsonp||[]).push([[38],{510:function(t,a,e){"use strict";e.r(a);var s=e(62),r=Object(s.a)({},(function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"docker-镜像"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#docker-镜像"}},[t._v("#")]),t._v(" Docker 镜像")]),t._v(" "),e("h2",{attrs:{id:"_1-基本概念"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-基本概念"}},[t._v("#")]),t._v(" 1. 基本概念")]),t._v(" "),e("p",[t._v("在 Docker 中，镜像是一个包含应用程序及相关依赖库的文件，在 Docker 容器启动的过程中，它以只读的方式被用于创建容器运行的基础环境。")]),t._v(" "),e("p",[t._v("如果把容器理解为应用程序运行的虚拟环境，那么镜像就是这个环境的持久化副本"),e("small",[t._v("（存档）")]),t._v("。")]),t._v(" "),e("p",[t._v("在 Docker 中，镜像名称主要分为三部分："),e("code",[t._v("namespace")]),t._v(" / "),e("code",[t._v("repository")]),t._v(" : "),e("code",[t._v("tag")]),t._v(" 。例如：")]),t._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("library/nginx:stable\nlibrary/nginx:1.18.0\n")])])]),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"left"}},[t._v("要素")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("说明")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("namespace")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("镜像的名字空间，用于区别同名镜像。通常，namespace 是镜像的作者的名字。")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("Repository")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("镜像的名称。通常会采用镜像中 “那个” 要运行的应用程序命名。")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("tag")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("镜像的标签，一般是镜像的版本。")])])])]),t._v(" "),e("p",[t._v("对于任意一个镜像而言，上述三者的组合一定是唯一的。另外，每个镜像都有一个唯一的 ID"),e("small",[t._v("（一个 64 位的十六进制字符串）")]),t._v("。")]),t._v(" "),e("p",[t._v("Docker 的镜像是一个分层结构，镜像的每一层都是在原有层的基础上进行改动的。")]),t._v(" "),e("p",[t._v("简单来说，你所看到的 “一个” Docker 镜像实际上是由好几个部分拼凑在一起形成的。这也是为什么你在下载 docker 镜像的时候有好几个进度条在 “跑” ，而你在删除 “一个” Docker 镜像时，会显示你删除了好几个东西。")]),t._v(" "),e("h2",{attrs:{id:"_2-获取镜像"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-获取镜像"}},[t._v("#")]),t._v(" 2. 获取镜像")]),t._v(" "),e("p",[e("strong",[t._v("docker pull")]),t._v(" 命令（略）。")]),t._v(" "),e("h2",{attrs:{id:"_3-镜像的迁移"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-镜像的迁移"}},[t._v("#")]),t._v(" 3. 镜像的迁移")]),t._v(" "),e("p",[t._v("镜像的导入/导出是虚拟化过程中最基础的操作。")]),t._v(" "),e("ul",[e("li",[e("p",[t._v("使用 "),e("strong",[t._v("docker save")]),t._v(" 命令可将本地镜像库中的镜像导出：")]),t._v(" "),e("div",{staticClass:"language-sh extra-class"},[e("pre",{pre:!0,attrs:{class:"language-sh"}},[e("code",[t._v("docker save ubuntu:latest "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" ubuntu.tar\n")])])])]),t._v(" "),e("li",[e("p",[t._v("另外，"),e("strong",[t._v("docker save")]),t._v(" 命令支持同事导出多个镜像：")]),t._v(" "),e("div",{staticClass:"language-sh extra-class"},[e("pre",{pre:!0,attrs:{class:"language-sh"}},[e("code",[t._v("docker save -o image.tar ubuntu:lasted centos:latest\n")])])])]),t._v(" "),e("li",[e("p",[t._v("要将导出的镜像数据重新导入到本地的镜像仓库中，可以使用 "),e("em",[e("strong",[t._v("docker load")])]),t._v(" 命令：")]),t._v(" "),e("div",{staticClass:"language-sh extra-class"},[e("pre",{pre:!0,attrs:{class:"language-sh"}},[e("code",[t._v("docker load -i ubuntu.tar\n")])])])]),t._v(" "),e("li",[e("p",[t._v("或")]),t._v(" "),e("div",{staticClass:"language-sh extra-class"},[e("pre",{pre:!0,attrs:{class:"language-sh"}},[e("code",[t._v("docker load "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v(" ubuntu.tar\n")])])])])])])}),[],!1,null,null,null);a.default=r.exports}}]);